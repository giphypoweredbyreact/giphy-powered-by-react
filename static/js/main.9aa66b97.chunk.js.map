{"version":3,"sources":["images/giphy-logo.png","App.js","giphyService.js","serviceWorker.js","index.js"],"names":["module","exports","GifContainer","props","loadGifs","setState","isLoading","search","offset","state","console","log","fetch","then","response","json","results","nextGifs","data","map","gif","key","id","title","url","images","downsized_medium","array1","array2","array3","i","length","concat","nextGifsOrganized","column1","column2","column3","hasMore","gifs","pagination","total_count","noResults","totalResults","catch","err","error","message","window","onscroll","innerHeight","document","documentElement","scrollTop","offsetHeight","this","prevProps","className","alt","src","style","borderRadius","height","width","color","Component","App","searchInput","searchString","handleChange","bind","handleSubmit","event","target","value","preventDefault","onSubmit","logo","type","placeholder","name","onChange","Boolean","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9aa66b97.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3M2Y1NThhYy0zMzQxLTQxMjEtOGFlZi0xMjc0MDU0ZTlkNzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjI4MUE5NzBGREQzMTFFNTkyN0JFODJGQUI1NEZGNkIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjI4MUE5NkZGREQzMTFFNTkyN0JFODJGQUI1NEZGNkIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3M2Y1NThhYy0zMzQxLTQxMjEtOGFlZi0xMjc0MDU0ZTlkNzciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzNmNTU4YWMtMzM0MS00MTIxLThhZWYtMTI3NDA1NGU5ZDc3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\"","import React, {Component} from 'react';\nimport logo from './images/giphy-logo.png';\nimport './App.css';\nimport {fetchGifs} from './giphyService';\n\nclass GifContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    //set initial state\n    this.state = {\n      search: this.props.search,\n      error: false,\n      hasMore: true,\n      isLoading: false,\n      noResults: false,\n      totalResults: 0,\n      offset: 0,\n      gifs: [],\n      column1: [],\n      column2: [],\n      column3: [],\n    }\n\n    // Binds our scroll event handler\n    window.onscroll = () => {\n      const {\n        loadGifs,\n        state: {\n          error,\n          isLoading,\n          hasMore,\n          offset,\n        },\n      } = this;\n\n      // Bails early if:\n      // * there's an error\n      // * it's already loading\n      // * there's nothing left to load\n      if (error || isLoading || !hasMore) return;\n\n      // Checks that the page has scrolled to the bottom\n      if (\n        window.innerHeight + document.documentElement.scrollTop\n        === document.documentElement.offsetHeight\n      ) {\n        if (this.state.search !== '') {\n          loadGifs(offset);\n        }\n      }\n    };\n  }\n\n  componentDidMount() {\n    // load gifs on initial load\n    if (this.state.search !== '') {\n      this.loadGifs();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    //compare props in case search string changes\n    if (this.props.search !== prevProps.search) {\n      this.setState({\n        search: this.props.search,\n        error: false,\n        hasMore: true,\n        isLoading: false,\n        noResults: false,\n        totalResults: 0,\n        offset: 0,\n        gifs: [],\n        column1: [],\n        column2: [],\n        column3: [],\n      });\n      this.loadGifs();\n    }\n  }\n\n  loadGifs = () => {\n    this.setState({ isLoading: true }, () => {\n      fetchGifs(this.state.search, this.state.offset)\n        .then((results) => {\n          console.log(results);\n          // Creates a massaged array of gif data\n          const nextGifs = results.data.map(gif => ({\n            key: gif.id,\n            title: gif.title,\n            url: gif.images.downsized_medium.url,\n          }));\n\n          var array1 = [];\n          var array2 = [];\n          var array3 = [];\n\n          for(var i=0; i < nextGifs.length; i++) {\n            if (i%3 === 0) {\n              array1 = array1.concat(nextGifs[i]);\n            } else if(i%3 === 1) {\n              array2 = array2.concat(nextGifs[i]);\n            } else {\n              array3 = array3.concat(nextGifs[i]);\n            }\n          }\n\n          console.log(array1);\n          console.log(array2);\n          console.log(array3);\n\n          const nextGifsOrganized = [\n            ...array1,\n            ...array2,\n            ...array3,\n          ];\n\n          console.log(nextGifsOrganized);\n          this.state.column1 = this.state.column1.concat(array1);\n          this.state.column2 = this.state.column2.concat(array2);\n          this.state.column3 = this.state.column3.concat(array3);\n\n\n\n          // Merges the next users into our existing users\n          this.setState({\n            // Note: Depending on the API you're using, this value may\n            // be returned as part of the payload to indicate that there\n            // is no additional data to be loaded\n            hasMore: (this.state.gifs.length <results.pagination.total_count),\n            isLoading: false,\n            offset: this.state.offset + 9,\n            noResults: results.pagination.total_count === 0,\n            totalResults: results.pagination.total_count,\n            gifs: [\n              ...this.state.column1,\n              ...this.state.column2,\n              ...this.state.column3,\n            ],\n          });\n        })\n        .catch((err) => {\n          this.setState({\n            error: err.message,\n            isLoading: false,\n           });\n        })\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.totalResults !== 0 &&\n          <div>\n            <p id=\"total-results\">Total Results: {this.state.totalResults}</p>\n          </div>\n        }\n        <div id=\"grid\">\n          {this.state.gifs.map(gif => (\n            <div className=\"masonry-with-columns\" key={gif.key}>\n              <img\n                alt={gif.title}\n                src={gif.url}\n                style={{\n                  borderRadius: '4px',\n                  height:'400px',\n                  width: '100%',\n                }}\n              />\n            </div>\n          ))}\n          </div>\n          <div id=\"bottom-panel\">\n            {this.state.error &&\n              <div style={{ color: '#900' }}>\n                <p>{this.state.error}</p>\n              </div>\n            }\n            {this.state.isLoading &&\n              <div>\n                <p>Loading...</p>\n              </div>\n            }\n            {this.state.noResults &&\n              <div>\n                <p>No Results</p>\n              </div>\n            }\n            {!this.state.noResults && !this.state.hasMore &&\n              <div>\n                <p>All Gifs Have Been Loaded</p>\n                </div>\n            }\n          </div>\n      </div>\n    );\n  }\n\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchInput: '',\n      searchString: ''\n    }\n    this.handleChange = this.handleChange.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n  }\n\n  handleChange(event) {\n    this.setState(\n      {searchInput : event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState(\n      {searchString : this.state.searchInput });\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <div id='searchbar'>\n                <form onSubmit={this.handleSubmit}>\n                  <img id='logo' src={logo} className=\"App-logo\" alt=\"logo\" />\n                  <h4>Giphy Powered By React</h4>\n                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                  <input type=\"text\" placeholder=\"Giphy Search..\" name=\"search\" value={this.state.searchInput} onChange={this.handleChange}/>\n                </form>\n          </div>\n          <div id=\"gif-container\">\n            <GifContainer search={this.state.searchString}/>\n          </div>\n        </header>\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","export function fetchGifs(search, offset) {\n  console.log('abc');\n  return fetch(\"https://api.giphy.com/v1/gifs/search?q=\" + search + \"&api_key=pJh3bSaDpSVv2HFpLGs6U1Zy6VA3Amcs&limit=9&offset=\" + offset)\n  .then(response => response.json())\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}